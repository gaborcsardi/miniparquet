<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Read the metadata of a Parquet file — read_parquet_metadata • miniparquet</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Read the metadata of a Parquet file — read_parquet_metadata"><meta property="og:description" content="This function should work on all files, even if read_parquet() is
unabled to read them, because of an unsupported schema, encoding,
compression or other reason."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">miniparquet</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Read the metadata of a Parquet file</h1>
    
    <div class="hidden name"><code>read_parquet_metadata.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function should work on all files, even if <code><a href="read_parquet.html">read_parquet()</a></code> is
unabled to read them, because of an unsupported schema, encoding,
compression or other reason.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">read_parquet_metadata</span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>file</dt>
<dd><p>Path to a Parquet file.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A named list with entries:</p><ul><li><p><code>file_meta_data</code>: a named list with file meta data:</p><ul><li><p><code>version</code>: Parquet version, an integer.</p></li>
<li><p><code>num_rows</code>: total number of rows.</p></li>
<li><p><code>key_value_metadata</code>: a data frame with two character
columns called <code>key</code> and <code>value</code>. This is the key-value metadata
of the file. Arrow stores its schema here.</p></li>
<li><p><code>created_by</code>: A string scalar, usually the name of the software
that created the file.</p></li>
<li><p><code>encryption_algorithm</code>: not implemented yet.</p></li>
<li><p><code>footer_signing_key_metadata</code>: not implemented yet.</p></li>
</ul></li>
<li><p><code>schema</code>: data frame, the schema of the file. It has one row for
each node (inner node or leaf node). For flat files this means one
root node (inner node), always the first one, and then one row for
each "real" column. For nested schemas, the rows are in depth-first
search order. Most important columns are:</p><ul><li><p><code>name</code>: column name.</p></li>
<li><p><code>type</code>: data type. One of the low level data types.</p></li>
<li><p><code>type_length</code>: length for fixed length byte arrays.</p></li>
<li><p><code>repettion_type</code>: character, one of <code>REQUIRED</code>, <code>OPTIONAL</code> or
<code>REPEATED</code>.</p></li>
<li><p><code>logical_type</code>: a list column, the logical types of the columns.
An element has at least an entry called <code>type</code>, and potentially
additional entries, e.g. <code>bit_width</code>, <code>is_signed</code>, etc.</p></li>
<li><p><code>num_children</code>: number of child nodes. Should be a non-negative
integer for the root node, and <code>NA</code> for a leaf node.</p></li>
</ul></li>
<li><p><code>$row_groups</code>: a data frame, information about the row groups.</p></li>
<li><p><code>$column_chunks</code>: a data frame, information about all column chunks.</p></li>
</ul></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="read_parquet.html">read_parquet()</a></code>, <code><a href="write_parquet.html">write_parquet()</a></code>.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">file_name</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/userdata1.parquet"</span>, package <span class="op">=</span> <span class="st">"miniparquet"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">miniparquet</span><span class="fu">::</span><span class="fu">read_parquet_metadata</span><span class="op">(</span><span class="va">file_name</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $file_meta_data</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $file_meta_data$version</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $file_meta_data$num_rows</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $file_meta_data$key_value_metadata</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A data frame: 0 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 2 variables: key &lt;chr&gt;, value &lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $file_meta_data$created_by</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "parquet-mr version 1.8.1 (build 4aba4dae7bb0d4edbcf7923ae1339f28fd3f7fcf)"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $file_meta_data$encryption_algorithm</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $file_meta_data$footer_signing_key_metadata</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $schema</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A data frame: 14 × 10</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    name            type  type_length repetition_type converted_type logical_type</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;I&lt;list&gt;&gt;</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> hive_schema     <span style="color: #BB0000;">NA</span>             <span style="color: #BB0000;">NA</span> <span style="color: #BB0000;">NA</span>              <span style="color: #BB0000;">NA</span>             <span style="color: #949494;">&lt;NULL&gt;</span>      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> registration_d… INT96          <span style="color: #BB0000;">NA</span> OPTIONAL        <span style="color: #BB0000;">NA</span>             <span style="color: #949494;">&lt;NULL&gt;</span>      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> id              INT32          <span style="color: #BB0000;">NA</span> OPTIONAL        <span style="color: #BB0000;">NA</span>             <span style="color: #949494;">&lt;NULL&gt;</span>      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> first_name      BYTE…          <span style="color: #BB0000;">NA</span> OPTIONAL        UTF8           <span style="color: #949494;">&lt;NULL&gt;</span>      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> last_name       BYTE…          <span style="color: #BB0000;">NA</span> OPTIONAL        UTF8           <span style="color: #949494;">&lt;NULL&gt;</span>      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> email           BYTE…          <span style="color: #BB0000;">NA</span> OPTIONAL        UTF8           <span style="color: #949494;">&lt;NULL&gt;</span>      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> gender          BYTE…          <span style="color: #BB0000;">NA</span> OPTIONAL        UTF8           <span style="color: #949494;">&lt;NULL&gt;</span>      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> ip_address      BYTE…          <span style="color: #BB0000;">NA</span> OPTIONAL        UTF8           <span style="color: #949494;">&lt;NULL&gt;</span>      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> cc              BYTE…          <span style="color: #BB0000;">NA</span> OPTIONAL        UTF8           <span style="color: #949494;">&lt;NULL&gt;</span>      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> country         BYTE…          <span style="color: #BB0000;">NA</span> OPTIONAL        UTF8           <span style="color: #949494;">&lt;NULL&gt;</span>      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">11</span> birthdate       BYTE…          <span style="color: #BB0000;">NA</span> OPTIONAL        UTF8           <span style="color: #949494;">&lt;NULL&gt;</span>      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">12</span> salary          DOUB…          <span style="color: #BB0000;">NA</span> OPTIONAL        <span style="color: #BB0000;">NA</span>             <span style="color: #949494;">&lt;NULL&gt;</span>      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">13</span> title           BYTE…          <span style="color: #BB0000;">NA</span> OPTIONAL        UTF8           <span style="color: #949494;">&lt;NULL&gt;</span>      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">14</span> comments        BYTE…          <span style="color: #BB0000;">NA</span> OPTIONAL        UTF8           <span style="color: #949494;">&lt;NULL&gt;</span>      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 4 more variables: num_children &lt;int&gt;, scale &lt;int&gt;, precision &lt;int&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   field_id &lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $row_groups</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A data frame: 1 × 6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      id total_byte_size num_rows file_offset total_compressed_size ordinal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>     0          <span style="text-decoration: underline;">112</span>492     <span style="text-decoration: underline;">1</span>000          <span style="color: #BB0000;">NA</span>                    <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $column_chunks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A data frame: 13 × 17</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    row_group file_path file_offset offset_index_offset offset_index_length</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>         0 <span style="color: #BB0000;">NA</span>                  4                  <span style="color: #BB0000;">NA</span>                  <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>         0 <span style="color: #BB0000;">NA</span>              <span style="text-decoration: underline;">13</span>274                  <span style="color: #BB0000;">NA</span>                  <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>         0 <span style="color: #BB0000;">NA</span>              <span style="text-decoration: underline;">17</span>317                  <span style="color: #BB0000;">NA</span>                  <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>         0 <span style="color: #BB0000;">NA</span>              <span style="text-decoration: underline;">20</span>305                  <span style="color: #BB0000;">NA</span>                  <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>         0 <span style="color: #BB0000;">NA</span>              <span style="text-decoration: underline;">23</span>855                  <span style="color: #BB0000;">NA</span>                  <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>         0 <span style="color: #BB0000;">NA</span>              <span style="text-decoration: underline;">48</span>543                  <span style="color: #BB0000;">NA</span>                  <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>         0 <span style="color: #BB0000;">NA</span>              <span style="text-decoration: underline;">48</span>871                  <span style="color: #BB0000;">NA</span>                  <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>         0 <span style="color: #BB0000;">NA</span>              <span style="text-decoration: underline;">66</span>223                  <span style="color: #BB0000;">NA</span>                  <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>         0 <span style="color: #BB0000;">NA</span>              <span style="text-decoration: underline;">81</span>686                  <span style="color: #BB0000;">NA</span>                  <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>         0 <span style="color: #BB0000;">NA</span>              <span style="text-decoration: underline;">84</span>136                  <span style="color: #BB0000;">NA</span>                  <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">11</span>         0 <span style="color: #BB0000;">NA</span>              <span style="text-decoration: underline;">95</span>403                  <span style="color: #BB0000;">NA</span>                  <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">12</span>         0 <span style="color: #BB0000;">NA</span>             <span style="text-decoration: underline;">103</span>034                  <span style="color: #BB0000;">NA</span>                  <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">13</span>         0 <span style="color: #BB0000;">NA</span>             <span style="text-decoration: underline;">108</span>208                  <span style="color: #BB0000;">NA</span>                  <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 12 more variables: column_index_offset &lt;dbl&gt;, column_index_length &lt;int&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   type &lt;int&gt;, encodings &lt;I&lt;list&gt;&gt;, path_in_schema &lt;I&lt;list&gt;&gt;, codec &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   num_values &lt;dbl&gt;, total_uncompressed_size &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   total_compressed_size &lt;dbl&gt;, data_page_offset &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   index_page_offset &lt;dbl&gt;, dictionary_page_offset &lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Gábor Csárdi, Hannes Mühleisen.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

